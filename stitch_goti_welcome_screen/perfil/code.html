<!DOCTYPE html>

<html class="dark" lang="es">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Perfil/Configuración</title>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;700&amp;display=swap" rel="stylesheet" />
    <link
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap"
        rel="stylesheet" />
    <link
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap"
        rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#13ec5b",
                        "background-light": "#f6f8f6",
                        "background-dark": "#102216",
                        "surface-dark": "#1c3024", // Slightly lighter for cards/lists in dark mode
                        "surface-light": "#ffffff",
                    },
                    fontFamily: {
                        "display": ["Manrope", "sans-serif"]
                    },
                    borderRadius: { "DEFAULT": "0.25rem", "lg": "0.5rem", "xl": "0.75rem", "2xl": "1rem", "full": "9999px" },
                },
            },
        }
    </script>
    <style>
        .material-symbols-outlined {
            font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
        }

        /* Custom toggle switch style for pure CSS visualization */
        .toggle-checkbox:checked {
            right: 0;
            border-color: #13ec5b;
        }

        .toggle-checkbox:checked+.toggle-label {
            background-color: #13ec5b;
        }

        .toggle-checkbox:checked+.toggle-label:before {
            transform: translateX(100%);
        }
    </style>
    <style>
        body {
            min-height: max(884px, 100dvh);
        }
    </style>
</head>

<body
    class="bg-background-light dark:bg-background-dark font-display text-[#111418] dark:text-white min-h-screen overflow-x-hidden flex flex-col">
    <!-- Top AppBar -->
    <div
        class="sticky top-0 z-50 bg-background-light/95 dark:bg-background-dark/95 backdrop-blur-md border-b border-gray-200 dark:border-gray-800 transition-colors duration-300">
        <div class="flex items-center p-4 justify-between h-16 max-w-md mx-auto w-full">
            <button onclick="window.location.href='../inicio/code.html'"
                class="text-[#111418] dark:text-white p-2 -ml-2 rounded-full hover:bg-black/5 dark:hover:bg-white/10 transition-colors">
                <span class="material-symbols-outlined block">arrow_back</span>
            </button>
            <h2 class="text-lg font-bold leading-tight tracking-tight flex-1 text-center pr-8">Perfil</h2>
        </div>
    </div>
    <!-- Main Content Area -->
    <div class="flex-1 w-full max-w-md mx-auto flex flex-col gap-6 pb-8">
        <!-- Profile Header -->
        <div class="flex flex-col items-center pt-6 px-4">
            <div class="relative mb-4 group cursor-pointer">
                <div class="w-28 h-28 rounded-full bg-cover bg-center border-4 border-white dark:border-[#1c3024] shadow-lg"
                    data-alt="User Avatar"
                    style="background-image: url('https://lh3.googleusercontent.com/aida-public/AB6AXuBht5nVHp3687je0w5iceHe9jdl5DWSjaqFmKLbF9jeDSPUOjNND84RwH151GJ9ICVXJUZ-jk-VNPJ23ZTajUDSGzk2RDrGpPvD8I-9cw8FvrYoca4-duJ2PiDhZ7jEYZOGbgri-1fmhYshLmgYk-itsmcxz-n4rwWTY1hscRcAv-Xumj37_sWPur1W9PdOdJSxQWAmPsoxZsFBm3GXuzq6srr27ixn1JQXN2DnW3lBjPe3pVTVhvmcjy7u613sAGwEQmWOOBcvArA');">
                </div>
                <div
                    class="absolute bottom-1 right-1 bg-primary text-black rounded-full p-1.5 shadow-md border-2 border-white dark:border-[#1c3024]">
                    <span class="material-symbols-outlined text-[16px] leading-none font-bold block">edit</span>
                </div>
            </div>
            <div class="text-center space-y-1 mb-5">
                <h1 id="user-display-name" class="text-2xl font-bold text-[#111418] dark:text-white">Cargando...</h1>
                <div
                    class="inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-primary/20 text-primary-dark dark:text-primary text-sm font-semibold">
                    <span class="material-symbols-outlined text-[16px]">verified</span>
                    <span>Inversor Pro</span>
                </div>
            </div>
            <button
                class="flex w-full items-center justify-center gap-2 rounded-xl h-11 px-6 bg-[#111418] dark:bg-surface-dark text-white hover:bg-black/80 dark:hover:bg-primary/20 transition-all active:scale-95">
                <span class="text-sm font-bold tracking-wide">Editar datos personales</span>
            </button>
        </div>
        <!-- Settings Groups Wrapper -->
        <div class="px-4 space-y-6">
            <!-- General Section -->
            <div class="space-y-3">
                <h3 class="text-gray-500 dark:text-[#9db9a6] text-xs font-bold uppercase tracking-wider ml-1">General
                </h3>
                <div
                    class="bg-surface-light dark:bg-surface-dark rounded-2xl overflow-hidden shadow-sm dark:shadow-none border border-gray-100 dark:border-white/5">
                    <!-- Theme Toggle -->
                    <div id="theme-toggle"
                        class="flex items-center justify-between p-4 border-b border-gray-100 dark:border-white/5 hover:bg-black/5 dark:hover:bg-white/5 cursor-pointer transition-colors">
                        <div class="flex items-center gap-3">
                            <div
                                class="flex items-center justify-center rounded-lg bg-gray-100 text-gray-600 dark:bg-gray-500/20 dark:text-gray-400 size-10 shrink-0">
                                <span class="material-symbols-outlined dark:hidden">dark_mode</span>
                                <span class="material-symbols-outlined hidden dark:block">light_mode</span>
                            </div>
                            <span class="text-base font-medium">Modo Oscuro</span>
                        </div>
                        <div class="flex items-center gap-2 text-gray-400 dark:text-primary">
                            <span class="text-sm dark:hidden">Desactivado</span>
                            <span class="text-sm hidden dark:block">Activado</span>
                        </div>
                    </div>
                    <!-- Language Item -->
                    <div
                        class="flex items-center justify-between p-4 border-b border-gray-100 dark:border-white/5 hover:bg-black/5 dark:hover:bg-white/5 cursor-pointer transition-colors">
                        <div class="flex items-center gap-3">
                            <div
                                class="flex items-center justify-center rounded-lg bg-blue-100 text-blue-600 dark:bg-blue-500/20 dark:text-blue-400 size-10 shrink-0">
                                <span class="material-symbols-outlined">language</span>
                            </div>
                            <span class="text-base font-medium">Idioma</span>
                        </div>
                        <div class="flex items-center gap-2 text-gray-400 dark:text-[#9db9a6]">
                            <span class="text-sm">Español</span>
                            <span class="material-symbols-outlined text-xl">chevron_right</span>
                        </div>
                    </div>
                    <!-- Currency Item -->
                    <div
                        class="flex items-center justify-between p-4 border-b border-gray-100 dark:border-white/5 hover:bg-black/5 dark:hover:bg-white/5 cursor-pointer transition-colors">
                        <div class="flex items-center gap-3">
                            <div
                                class="flex items-center justify-center rounded-lg bg-green-100 text-green-600 dark:bg-primary/20 dark:text-primary size-10 shrink-0">
                                <span class="material-symbols-outlined">currency_exchange</span>
                            </div>
                            <span class="text-base font-medium">Moneda principal</span>
                        </div>
                        <div class="flex items-center gap-2 text-gray-400 dark:text-[#9db9a6]">
                            <span class="text-sm">USD / ARS</span>
                            <span class="material-symbols-outlined text-xl">chevron_right</span>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Support Section -->
            <div class="space-y-3">
                <h3 class="text-gray-500 dark:text-[#9db9a6] text-xs font-bold uppercase tracking-wider ml-1">Soporte
                </h3>
                <div
                    class="bg-surface-light dark:bg-surface-dark rounded-2xl overflow-hidden shadow-sm dark:shadow-none border border-gray-100 dark:border-white/5">
                    <!-- Help Center -->
                    <div onclick="window.open('https://gotirot.wixsite.com/actividadeseduca', '_blank')"
                        class="flex items-center justify-between p-4 border-b border-gray-100 dark:border-white/5 hover:bg-black/5 dark:hover:bg-white/5 cursor-pointer transition-colors">
                        <div class="flex items-center gap-3">
                            <div
                                class="flex items-center justify-center rounded-lg bg-pink-100 text-pink-600 dark:bg-pink-500/20 dark:text-pink-400 size-10 shrink-0">
                                <span class="material-symbols-outlined">help</span>
                            </div>
                            <span class="text-base font-medium">Centro de ayuda</span>
                        </div>
                        <span
                            class="material-symbols-outlined text-gray-400 dark:text-[#9db9a6] text-xl">open_in_new</span>
                    </div>
                    <!-- Contact -->
                    <div onclick="window.location.href='../soporte_y_ayuda/code.html'"
                        class="flex items-center justify-between p-4 hover:bg-black/5 dark:hover:bg-white/5 cursor-pointer transition-colors">
                        <div class="flex items-center gap-3">
                            <div
                                class="flex items-center justify-center rounded-lg bg-yellow-100 text-yellow-600 dark:bg-yellow-500/20 dark:text-yellow-400 size-10 shrink-0">
                                <span class="material-symbols-outlined">chat_bubble</span>
                            </div>
                            <span class="text-base font-medium">Contactar soporte</span>
                        </div>
                        <span
                            class="material-symbols-outlined text-gray-400 dark:text-[#9db9a6] text-xl">chevron_right</span>
                    </div>
                </div>
            </div>
            <!-- Logout -->
            <div class="pt-4 pb-32 flex flex-col items-center gap-4">
                <button id="logout-btn"
                    class="w-full rounded-xl p-4 border border-red-500/30 bg-red-500/5 text-red-600 dark:text-red-400 font-bold hover:bg-red-500/10 transition-colors flex items-center justify-center gap-2 active:scale-[0.98]">
                    <span class="material-symbols-outlined">logout</span>
                    Cerrar sesión
                </button>
                <div class="text-center">
                    <p class="text-xs text-gray-400 dark:text-gray-600">Versión 2.5.1 (Build GOTI-2026)</p>
                    <p class="text-xs text-gray-400 dark:text-gray-600 mt-1">© 2026 Rodrigo O.T. Agency</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Dynamic Bottom Navigation -->
    <nav
        class="fixed bottom-0 left-0 right-0 h-24 bg-background-light/80 dark:bg-background-dark/80 backdrop-blur-3xl border-t border-gray-200 dark:border-white/5 px-6 flex items-center justify-between z-50">
        <a href="../inicio/code.html"
            class="flex flex-col items-center gap-1 group opacity-60 hover:opacity-100 transition-opacity">
            <span class="material-symbols-outlined text-[28px] group-hover:scale-110 transition-transform">home</span>
            <span class="text-[10px] font-black uppercase tracking-widest">Inicio</span>
        </a>
        <a href="../analisis_volatilidad/code.html"
            class="flex flex-col items-center gap-1 group opacity-60 hover:opacity-100 transition-opacity">
            <span
                class="material-symbols-outlined text-[28px] group-hover:scale-110 transition-transform">monitoring</span>
            <span class="text-[10px] font-black uppercase tracking-widest">Mercado</span>
        </a>

        <!-- Central "Operate" button -->
        <div class="relative -top-3">
            <a href="../operaciones_fáciles/code.html"
                class="flex items-center justify-center w-16 h-16 rounded-3xl bg-primary text-background-dark shadow-[0_10px_30px_rgba(19,236,91,0.4)] hover:scale-110 active:scale-95 transition-all">
                <span class="material-symbols-outlined text-[32px] font-black">add_circle</span>
            </a>
        </div>

        <a href="../mis_inversiones/code.html"
            class="flex flex-col items-center gap-1 group opacity-60 hover:opacity-100 transition-opacity">
            <span
                class="material-symbols-outlined text-[28px] group-hover:scale-110 transition-transform">account_balance_wallet</span>
            <span class="text-[10px] font-black uppercase tracking-widest">Billetera</span>
        </a>
        <a href="../perfil/code.html" class="flex flex-col items-center gap-1 group text-primary">
            <span class="material-symbols-outlined text-[28px] scale-110 transition-transform">person</span>
            <span class="text-[10px] font-black uppercase tracking-widest">Perfil</span>
        </a>
    </nav>

    <script src="../../goti_config.js"></script>
    <script src="../../goti_auth.js"></script>
    <script src="../../goti_core.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const nameHeader = document.getElementById('user-display-name');
            const logoutBtn = document.getElementById('logout-btn');
            const themeToggle = document.getElementById('theme-toggle');

            // Load User Data
            if (nameHeader) {
                try {
                    const userStr = localStorage.getItem('goti_user');
                    let userName = 'Inversor';
                    if (userStr) {
                        const user = JSON.parse(userStr);
                        userName = user.name || (user.email ? user.email.split('@')[0] : 'Inversor');
                    }
                    nameHeader.textContent = userName.charAt(0).toUpperCase() + userName.slice(1);
                } catch (e) {
                    console.error(e);
                    nameHeader.textContent = 'Inversor';
                }
            }

            // Theme Toggle
            if (themeToggle) {
                themeToggle.addEventListener('click', () => {
                    if (window.goti && typeof window.goti.toggleTheme === 'function') {
                        window.goti.toggleTheme();
                    }
                });
            }

            // Real Logout
            if (logoutBtn) {
                logoutBtn.addEventListener('click', () => {
                    if (confirm('¿Estás seguro que deseas cerrar sesión?')) {
                        if (window.gotiAuth) {
                            window.gotiAuth.logout();
                            window.location.href = '../login/code.html';
                        }
                    }
                });
            }
        });
    </script>
</body>

</html>